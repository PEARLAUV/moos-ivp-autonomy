#########################################################################
Directory for Arduino sketches to be used on front seat (currently an 
Arduino MEGA) for the PEARL platform.
#########################################################################

The current front seat architecture utilizes an NXP 9-dof IMU board and
the Madgwick filter for sensor fusion. Therefore the NXP_FXOS_FXAS.h 
header file and the Adafruit_Madgwick filter are uncommented in the 
relevant sketches below. 

#========================================================================
# sensor_write_calibration (for use on laptop)
#========================================================================
Script for writing calibrations to the Arduino, which are stored in 
permanent memory on the board. Inputs within the scripts are:
-Hard iron offsets (uTesla)
-Soft iron offsets (uTesla)
-Gyro zero-rate offsets (rad/s)
-Accelerometer zero-rate offsets (m/s^2)

#========================================================================
# calibration (for use on laptop)
#========================================================================
Script for producing the raw sensor data necessary to complete the 
magnetometer calibration with MotionCal (see instructions below).

#========================================================================
# calibrated_orientation (for use on laptop)
#========================================================================
Use this script to plot or print to the serial monitor the following:
-X,Y,Z acceleration in m/s^2
-X,Y,Z gyroscopic rates in deg/s or rad/s
-X,Y,Z magnetometer readings in uTesla
-Yaw, pitch, and roll readings from the sensor fusion filter

This script is useful for determining the accelerometer and gyroscope
offsets necessary for calibration, and for troubleshooting/viewing the 
outputs of the sensor fusion filter. The code contains instructions for
which block to uncomment for each output.

#========================================================================
# PEARL_Arduino_LED_test (for use on PEARL)
#========================================================================
Script for testing/troubleshooting Arduino-Raspberry Pi comms. Posts
NMEA-format sentence with Euler angles to serial port and reads NMEA-
format sentence with thrust percentage commands from serial port. Turns
on LED (pin 8) if left thrust is > 20%. Turns on LED (pin 9) if right
thrust > 20%.

NMEA sentence from Arduino:
$PLIMU,<manual control flag>,<yaw>,<pitch>,<roll>*
NMEA sentence from RPi:
$PICOM,<desired left motor thrust percentage>,<desired right motor thrust percentage>*

#========================================================================
# PEARL_frontseat_bluetooth (for use on PEARL)
#========================================================================
Script to be used on PEARL platform during operation, with bluetooth 
manual control implemented. Also setup to write commands to LEDs for 
testing, so double-check that these lines are commented out and the 
commands to write to the motor controller pins are uncommented 
(see instructions in sketch).


NMEA sentence from Arduino:
$PLIMU,<manual control flag>,<yaw>,<pitch>,<roll>*
$PLRAW,<Acc X>,<Acc Y>,<Acc Z>,<Gyro X>,<Gyro Y>,<Gyro Z>,<Mag X>,<Mag Y>,<Mag Z>*
$PLMOT,<last commanded left thrust percentage>,<last commanded right thrust percentage>*
NMEA sentence from RPi:
$PICOM,<desired left motor thrust percentage>,<desired right motor thrust percentage>*

#========================================================================
# PEARL_frontseat_rc (for use on PEARL)
#========================================================================
Script to be used on PEARL platform during operation, with RC manual
control implemented. Also setup to write commands to LEDs for 
testing, so double-check that these lines are commented out and the 
commands to write to the motor controller pins are uncommented 
(see instructions in sketch).


NMEA sentence from Arduino:
$PLIMU,<manual control flag>,<yaw>,<pitch>,<roll>*
$PLRAW,<Acc X>,<Acc Y>,<Acc Z>,<Gyro X>,<Gyro Y>,<Gyro Z>,<Mag X>,<Mag Y>,<Mag Z>*
$PLMOT,<last commanded left thrust percentage>,<last commanded right thrust percentage>*
NMEA sentence from RPi:
$PICOM,<desired left motor thrust percentage>,<desired right motor thrust percentage>*
